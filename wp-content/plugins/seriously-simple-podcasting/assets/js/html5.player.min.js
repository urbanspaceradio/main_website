document.addEventListener("DOMContentLoaded",function(){!function(p){window.ssp_player=[];var r=[];p("div.ssp-player-large").each(function(){var a=p(this),s=a.data("player-instance-number"),e=a.data("player-waveform-progress-colour"),a=a.data("source-file");r[s]="",window.ssp_player[s]=WaveSurfer.create({container:"#waveform"+s,waveColor:"#444",progressColor:e,barWidth:3,barHeight:15,height:8,hideScrollbar:!0,skipLength:30,backend:"MediaElement"}),window.ssp_player[s].track=a,window.ssp_player[s].backend.peaks=[.0218,.0183,.0165,.0198,.2137,.2888,.2313,.15,.2542,.2538,.2358,.1195,.1591,.2599,.2742,.1447,.2328,.1878,.1988,.1645,.1218,.2005,.2828,.2051,.1664,.1181,.1621,.2966,.189,.246,.2445,.1621,.1618,.189,.2354,.1561,.1638,.2799,.0923,.1659,.1675,.1268,.0984,.0997,.1248,.1495,.1431,.1236,.1755,.1183,.1349,.1018,.1109,.1833,.1813,.1422,.0961,.1191,.0791,.0631,.0315,.0157,.0166,.0108],window.ssp_player[s].drawBuffer(),window.ssp_player[s].loaded=!1,window.ssp_player[s].on("ready",function(a){window.ssp_player[s].loaded||(window.ssp_player[s].loaded=!0,window.ssp_player[s].play()),p("#ssp_player_id_"+s+" #sspTotalDuration").text(window.ssp_player[s].getDuration().toString().toFormattedDuration()),p("#ssp_player_id_"+s+" #sspPlayedDuration").text(window.ssp_player[s].getCurrentTime().toString().toFormattedDuration())}),window.ssp_player[s].on("play",function(a){window.ssp_player[s].loaded||window.ssp_player[s].load(window.ssp_player[s].track,window.ssp_player[s].backend.peaks),p("#ssp_player_id_"+s+" #ssp-play-pause .ssp-icon").removeClass().addClass("ssp-icon ssp-icon-pause_icon"),p("#ssp_player_id_"+s+" #sspPlayedDuration").text(window.ssp_player[s].getCurrentTime().toString().toFormattedDuration()),r[s]=setInterval(function(){p("#ssp_player_id_"+s+" #sspPlayedDuration").text(window.ssp_player[s].getCurrentTime().toString().toFormattedDuration())},100)}),window.ssp_player[s].on("pause",function(a){p("#ssp_player_id_"+s+" #ssp-play-pause .ssp-icon").removeClass().addClass("ssp-icon ssp-icon-play_icon"),clearInterval(r[s])}),window.ssp_player[s].on("finish",function(a){p("#ssp_player_id_"+s+" #ssp-play-pause .ssp-icon").removeClass().addClass("ssp-icon ssp-icon-play_icon")}),p("#ssp_player_id_"+s+" #ssp-play-pause").on("click",function(a){window.ssp_player[s].playPause()}),p("#ssp_player_id_"+s+" #ssp-back-thirty").on("click",function(a){window.ssp_player[s].skipBackward()}),p("#ssp_player_id_"+s+" #ssp_playback_speed"+s).on("click",function(a){switch(p(a.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate")){case"1":p(a.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate","1.5"),p(a.currentTarget).parent().find("[data-ssp-playback-rate]").text("1.5X"),window.ssp_player[s].setPlaybackRate(1.5);break;case"1.5":p(a.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate","2"),p(a.currentTarget).parent().find("[data-ssp-playback-rate]").text("2X"),window.ssp_player[s].setPlaybackRate(2);break;case"2":p(a.currentTarget).parent().find("[data-ssp-playback-rate]").attr("data-ssp-playback-rate","1"),p(a.currentTarget).parent().find("[data-ssp-playback-rate]").text("1X"),window.ssp_player[s].setPlaybackRate(1)}})})}(jQuery)});