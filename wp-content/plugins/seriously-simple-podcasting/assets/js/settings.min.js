jQuery(document).ready(function(o){var e=o("#podmotor_account_email"),a=o("#podmotor_account_api_token"),t=o(".js-parent-category"),s=o("#validate_api_credentials");function n(){var e=o(this),a=e.data("subcategory"),t=e.find("option:selected").text();if(!a||!t)return!1;e=o("#"+a);e.find("optgroup").hide();a=e.find('optgroup[label="'+t+'"]');a.length&&"-- None --"!==t?a.show():e.val("")}0<e.length&&0<a.length&&(""!==e.val()&&""!==a.val()||o("#ssp-settings-submit").prop("disabled","disabled"),e.on("change paste keydown keyup",function(){o("#ssp-settings-submit").prop("disabled","disabled")}),a.on("change paste keydown keyup",function(){o("#ssp-settings-submit").prop("disabled","disabled")}),s.on("click",function(){o(".validate-api-credentials-message").html("Validating API credentials...");var e=o("#podmotor_account_email").val(),a=o("#podmotor_account_api_token").val(),t=o("#podcast_settings_tab_nonce").val();s.addClass("loader"),o.ajax({method:"GET",url:ajaxurl,data:{action:"validate_castos_credentials",api_token:a,email:e,nonce:t}}).done(function(e){s.removeClass("loader"),"success"===e.status?(o(".validate-api-credentials-message").html("Credentials Valid. Please click 'Save Settings' to save Credentials."),o("#ssp-settings-submit").prop("disabled",""),s.val("Valid Credentials"),s.addClass("valid")):(s.addClass("invalid"),o(".validate-api-credentials-message").html(e.message)),s.trigger("validated")})}),o("#podmotor_disconnect").on("change",function(e){var a=o(this);!a.is(":checked")||!0!==confirm("If you disconnect from Castos hosting you will no longer be able to upload media files to the Castos hosting platform. If youâ€™re no longer a Castos customer your media files may no longer be available to your listeners.")&&(setTimeout(function(){a.removeAttr("checked")},0),e.preventDefault(),e.stopPropagation())})),t.length&&(t.each(n),t.on("change",n))});