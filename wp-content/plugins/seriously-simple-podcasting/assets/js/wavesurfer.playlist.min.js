"use strict";WaveSurfer.Playlist={init:function(t){this.params=t;t=this.wavesurfer=t.wavesurfer;if(!this.wavesurfer)throw new Error("No WaveSurfer instance provided");if(this.playlistFileGET=this.params.playlistFile||null,this.playlistType=this.params.playlistType||"m3u",this.playlistData=[],null==this.playlistFileGET)throw new Error("No playlist file provided");var t=t.util.ajax({url:this.playlistFileGET,responseType:"text"}),r=this;t.on("success",function(t,i){r.loadPlaylist(t),r.wavesurfer.fireEvent("playlist-ready")}),t.on("error",function(t){throw new Error("Error reading the playlist fileXHR error: "+t.target.statusText)})},getPlaylist:function(){return this.playlistData},loadPlaylist:function(t){var i=[];if("m3u"!=this.playlistType&&"audio/mpegurl"!=this.playlistType)throw new Error("No valid playlist file provided");i=t.replace(/^.*#.*$|#EXTM3U|#EXTINF:/gm,"").split("\n");for(var r=[],e=0;e<i.length;e++)i[e]&&(-1===i[e].indexOf(".mp3")&&-1===i[e].indexOf(".wav")||r.push(i[e].toString()));this.playlistData=r}},WaveSurfer.util.extend(WaveSurfer.Playlist,WaveSurfer.Observer);